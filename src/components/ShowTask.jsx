import { useState } from "react";
import ModifyTask from "./ModifyTask";


function ShowTask({ task, onDelete, onEdit }) {
    const [showEdit, setShowEdit] = useState(false);

    const handleSubmit = (id, newAction) => {
        setShowEdit(false);
        onEdit(id, newAction)
    };

    const handleDeleteClick = () => {
        onDelete(task.id)
    };

    let content = <p>{task.action}</p>;
    if (showEdit) {
        content = <ModifyTask onSubmit={handleSubmit} task={task} />;
    }


    return <div className="task-container">
        <div className="task-bar">
            <div className="task-content">{content}</div>
            <div className="task-actions">
                <button className="edit-button" ><svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_10_513)">
                        <path d="M0.698324 25H24.3017C24.4869 25 24.6645 24.9262 24.7955 24.7948C24.9264 24.6634 25 24.4852 25 24.2994C25 24.1136 24.9264 23.9355 24.7955 23.8041C24.6645 23.6727 24.4869 23.5989 24.3017 23.5989H0.698324C0.513117 23.5989 0.335495 23.6727 0.204534 23.8041C0.073573 23.9355 0 24.1136 0 24.2994C0 24.4852 0.073573 24.6634 0.204534 24.7948C0.335495 24.9262 0.513117 25 0.698324 25ZM9.30447 19.7346C9.89441 19.569 10.4327 19.2556 10.8687 18.8239L24.1927 5.45738C24.649 4.99783 24.9052 4.37563 24.9052 3.72701C24.9052 3.07839 24.649 2.45619 24.1927 1.99665L22.8799 0.693618C22.4153 0.248423 21.7975 0 21.155 0C20.5125 0 19.8948 0.248423 19.4302 0.693618L6.10614 14.0462C5.67506 14.4807 5.36661 15.0222 5.21229 15.6154L4.17877 19.4824C4.12974 19.6591 4.12847 19.8456 4.17511 20.0229C4.22175 20.2002 4.3146 20.3619 4.44413 20.4912C4.64182 20.6862 4.90715 20.7967 5.18436 20.7995L9.30447 19.7346ZM9.87709 17.8291C9.61962 18.0921 9.29643 18.2808 8.94134 18.3756L7.58659 18.7399L6.18994 17.3388L6.55307 15.9797C6.65076 15.6248 6.83842 15.3014 7.09776 15.0409L7.62849 14.5225L10.4078 17.3107L9.87709 17.8291ZM11.3994 16.3159L8.62011 13.5277L18.0196 4.0983L20.7989 6.88651L11.3994 16.3159ZM23.2011 4.4766L21.7905 5.89172L19.0112 3.10352L20.4218 1.67439C20.5189 1.57662 20.6342 1.49904 20.7612 1.4461C20.8883 1.39316 21.0245 1.36591 21.162 1.36591C21.2996 1.36591 21.4358 1.39316 21.5628 1.4461C21.6898 1.49904 21.8052 1.57662 21.9022 1.67439L23.2011 2.99143C23.3959 3.18918 23.5052 3.456 23.5052 3.73402C23.5052 4.01204 23.3959 4.27885 23.2011 4.4766Z" fill="white" />
                    </g>
                    <defs>
                        <clipPath id="clip0_10_513">
                            <rect width="25" height="25" fill="white" />
                        </clipPath>
                    </defs>
                </svg>
                </button>
                <button className="delete-button" onClick={handleDeleteClick} ><svg width="25" height="25" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.6 3.63636H16V2.54545C16 1.87036 15.7051 1.22291 15.1799 0.745546C14.6548 0.268181 13.9427 0 13.2 0H8.40005C7.65744 0 6.94525 0.268181 6.42015 0.745546C5.89505 1.22291 5.60005 1.87036 5.60005 2.54545V3.63636H2.00005C1.68179 3.63636 1.37656 3.7513 1.15152 3.95588C0.926477 4.16047 0.800049 4.43795 0.800049 4.72727C0.800049 5.0166 0.926477 5.29408 1.15152 5.49866C1.37656 5.70325 1.68179 5.81818 2.00005 5.81818H2.40005V18.1818C2.40005 18.664 2.61076 19.1265 2.98584 19.4675C3.36091 19.8084 3.86962 20 4.40005 20H17.2C17.7305 20 18.2392 19.8084 18.6143 19.4675C18.9893 19.1265 19.2 18.664 19.2 18.1818V5.81818H19.6C19.9183 5.81818 20.2235 5.70325 20.4486 5.49866C20.6736 5.29408 20.8 5.0166 20.8 4.72727C20.8 4.43795 20.6736 4.16047 20.4486 3.95588C20.2235 3.7513 19.9183 3.63636 19.6 3.63636ZM8.00005 2.54545C8.00005 2.44901 8.04219 2.35652 8.11721 2.28832C8.19222 2.22013 8.29396 2.18182 8.40005 2.18182H13.2C13.3061 2.18182 13.4079 2.22013 13.4829 2.28832C13.5579 2.35652 13.6 2.44901 13.6 2.54545V3.63636H8.00005V2.54545ZM16.8 17.8182H4.80005V5.81818H16.8V17.8182ZM9.60005 8.72727V14.5455C9.60005 14.8348 9.47362 15.1123 9.24858 15.3168C9.02353 15.5214 8.71831 15.6364 8.40005 15.6364C8.08179 15.6364 7.77656 15.5214 7.55152 15.3168C7.32648 15.1123 7.20005 14.8348 7.20005 14.5455V8.72727C7.20005 8.43795 7.32648 8.16047 7.55152 7.95588C7.77656 7.7513 8.08179 7.63636 8.40005 7.63636C8.71831 7.63636 9.02353 7.7513 9.24858 7.95588C9.47362 8.16047 9.60005 8.43795 9.60005 8.72727ZM14.4 8.72727V14.5455C14.4 14.8348 14.2736 15.1123 14.0486 15.3168C13.8235 15.5214 13.5183 15.6364 13.2 15.6364C12.8818 15.6364 12.5766 15.5214 12.3515 15.3168C12.1265 15.1123 12 14.8348 12 14.5455V8.72727C12 8.43795 12.1265 8.16047 12.3515 7.95588C12.5766 7.7513 12.8818 7.63636 13.2 7.63636C13.5183 7.63636 13.8235 7.7513 14.0486 7.95588C14.2736 8.16047 14.4 8.43795 14.4 8.72727Z" fill="white" />
                </svg>
                </button>
            </div>
        </div>
    </div>;
}




export default ShowTask;